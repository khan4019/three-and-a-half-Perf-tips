	<!doctype html>
	<html lang="en">

		<head>
			<meta charset="utf-8">

			<title>3 and a half Perf Tips</title>

			<meta name="description" content="An intermediate to advanced tips and tricks for High Performance JavaScript and CSS">
			<meta name="author" content="Md Khan">

			<meta name="apple-mobile-web-app-capable" content="yes" />
			<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

			<link rel="stylesheet" href="css/reveal.css">
			<link rel="stylesheet" href="css/theme/custom.css" id="theme">
			<!-- <link rel="stylesheet" type="text/css" href="css/print/pdf.css"> -->

			<!-- For syntax highlighting -->
			<link rel="stylesheet" href="lib/css/zenburn.css">
			<style type="text/css">
				.noUppercase
				{
					text-transform: none !important;
				}
				.fullScreenImage
				{
					width: 100%;
					height: 90%;
				}
				.halfScreenImage
				{
					width: 80%;
					height: 60%;
				}
				.reveal h1.upholdHeader, h2.upholdHeader{
				  margin-top: -50px;
				  margin-left: -15%;
				  width: 130%;
				}
				.mediumFont{
					font-size: 2em;
				}

				.reveal code.largeCode {
					max-height: 600px;
				}

				.greenBold{
					color: green;
					font-weight: bold !important;
				}
				.lineThrough{
					text-decoration: line-through;					
				}
				.redBoldText{
					font-weight: bold !important;
					color: red !important;
				}
				.purpleBold{
					font-weight: bold;
					color:purple;
				}				
				.animate_block {
					position: absolute;
					background-color: blue;
					width: 50px;
					height: 40px;
					padding-top: 10px;
					text-align: center;
					color: #fff;
					font-size: 10px;
					white-space: nowrap;
					left:0px;
				}
				sub{
					font-size: 0.5em;
				}
			</style>
			<!-- If the query includes 'print-pdf', use the PDF print sheet -->
			<script>
				document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
			</script>

			<!--[if lt IE 9]>
			<script src="lib/js/html5shiv.js"></script>
			<![endif]-->
		</head>

		<body>

			<div class="reveal">

				<!-- Any section element inside of this container is displayed as a slide -->
				<div class="slides">
<!-- start of intro -->
					<section>
						<h1>3<sup>1</sup>&frasl;<sub>2</sub> Perf tips</h1>					
						<br/>
						<h2 class="fragment"><a href="http://goo.gl/0JIpFe">goo.gl/0JIpFe</a> </h2>
						<br/>
						<p>
							<h3>
								<a href="http://jhankarmahbub.com">MD Khan</a> / <a href="http://twitter.com/mdkhan005">@mdkhan005</a>

							</h3>
						</p>
						<h4>www.thatjsdude.com</h4>
					</section>
					<section>
						<h2>TODO</h2>
						<ol>							
							<li>accessing global variable
   								<ul>
   									<li>global vs local variable</li>
   									<li>how access global variable</li>
   									<li>Why global is bad</li>
   								</ul>
							</li>						
							<li>Event delegate</li>
							<li>throttle and debounce (optional)</li>
							<li>find another one to talk about</li>
							<li>js perf</li>
						</ol>
					</section>
					<section>
						<section>
							<h2 class="upholdHeader">Performance improvement</h2>
							<img class="fullScreenImage" src="images/underConstruction3.jpg" alt="">
						</section>	
						<section>
							<img src="images/fixTire.jpg" alt="">
						</section>
						<section>
							<img src="images/internet4.jpg" alt="">
						</section>
						<section>
							<img src="images/solution.jpg" alt="">
						</section>
						<section>
							<img src="images/snake.jpg" alt="">
						</section>					
						<section>
							<h2>before we start</h2>
							<br>		
							<ul>
								<li>best practices, jsLint, ur boss</li>
								<li class="fragment">Don't accept, "Don't Do this"</li>
								<li class="fragment">some random guy in meetup</li>
								<br>			
								
								<li class="fragment">Ask, Why i should not do it?</li>
								<li class="fragment">Then verify it in your use case</li>
							</ul>
						</section>
						<section>
							<img src="images/underConstruction2.gif" alt="">
							<img class="fragment" src="images/underConstruction3.gif" alt="">
						</section>
					</section>	
					<section>
						<section>
							<h1>why performance</h1>							
						</section>
						<section>
							<img src="images/spinner.gif" alt="">
							<div class="fragment">
								<h6>you hate spinner,</h6>
								<h6> so does your client</h6>
							</div>
						</section>
					</section>
					<section>
						<section>
							<h1 class="upholdHeader">Global Variable</h1>
							<br>
							<ul>
								<li class="fragment">Local scope</li>									
							</ul>
						</section>
						<section>
							<img src="images/globeStand.jpg" alt="">
						</section>
						<section>
							<img src="images/my Drawing/globeJackie.jpg" alt="">
						</section>						
						<section>
							<h2>global scope</h2>
							<img class="fragment" src="images/globalscope.png" alt="">
						</section>
						<section>
							<img  class="fullScreenImage" src="images/my Drawing/gglMap.jpg" alt="">
						</section>	
						<section>
							<img src="images/kd.jpg" alt="">
						</section>					
						<section>
							<img  class="fullScreenImage" src="images/localStar.jpg" alt="">
						</section>
						<section>
							<h2>local/function scope</h2>
							<!-- <pre><code>var a = 2; 
function b(){
   var d = 21;
   console.log(a);
}
b();							</code></pre> -->
							<img class="fragment" src="images/localScope.png" alt="">
							<br>
							<a href="http://davidshariff.com/blog/javascript-scope-chain-and-closures/">JS scope chain</a>
						</section>
						<section>
							<h2>multi execution context</h2>
							<!-- <pre><code>var a = 2; 
function b(){ console.log(a); }
function c(){ console.log(a); }
b();						
c();</code></pre> -->
							<img class="fragment" src="images/multiScope.png" alt="">
						</section>
					</section>
					<section>
						<section>
							<h1 class="upholdHeader">Satuday morning</h1>
							<img src="images/drunk.jpg" alt="" class="fragment">
						</section>
						<section>
							<h2> car keys ????</h2>
							<img src="images/lostKey.jpg" alt="">
						</section>
						<section>
							<h2>step-1</h2>
							<img src="images/messyRoom1.jpg" alt="">
						</section>
						<section>
							<img src="images/underTheBed.jpg" alt="">
						</section>						
						<section>
							<h2>step-2</h2>
							<img src="images/keyHolder.jpg" alt="">
						</section>
						<section>
							<h2>step -3</h2>
							<img src="images/outsideHouse.jpg" alt="">
						</section>
						<section>
							<h2>step-4</h2>
							<img src="images/notFound.png" alt="">
						</section>
					</section>
					<section>
						<section>
							<h1>so what?</h1>
							<img src="images/confused.jpg" alt="">
						</section>						
						<section>
							<h2>access variable</h2>
							<pre><code>
var c = 7;

function foo(b){
   var a = 8;

   console.log(a);
   console.log(b);
   console.log(c);
   console.log(d);
}
							</code></pre>
						</section>
						<section>
							<h2>access again and again</h2>
							<pre><code>
var a = 99;

function useGlobal() {    
    for (j = 0; j &lt; 1000000; j++){
        console.log(99);
    }
}
							</code></pre>
							<pre class="fragment"><code>
var a = 99;
function useLocal() {
    var localA = a;
    for (var k = 0; k &lt; 1000000; k++){
        console.log(localA);
    }
}
							</code></pre>
							<a href="http://jsperf.com/global/17">local vs global variable</a>
						</section>
						<section>
							<h1>Perf Tip -1</h1>
							<br>
							<br>
							<h2 class="fragment purpleBold">Cache out of scope variable</h2>
						</section>						
					</section>
					<section>
						<section>
							<h2>is it hard to</h2>
							<h1>Improve</h1>
							<h2>Performance?</h2>
						</section>		
						<section>?
							<img src="images/redBull.jpg" alt="">
						</section>
						<section>
							<img src="images/redBullWings.jpeg" alt="">
						</section>
						<section>
							<img  class="fullScreenImage"  src="images/developerSecret.jpg">
						</section>
						<!-- <section>
							<img  class="fullScreenImage"  src="images/coffeePot.jpg">
						</section>
						<section>
							<img  class="fullScreenImage"  src="images/pizzaSlice.jpg">
						</section> -->
						<section>
							<img class="fullScreenImage" src="images/badBoss.jpg">
						</section>
						<section>
							<img src="images/manageDeveloper.jpg" alt="" class="fullScreenImage">
						</section>
					</section>																				<section>
						<section>
							<h1>Events</h1>		
							<img src="images/event.jpg" alt="">					
						</section>
						<section>
							<img src="images/table.jpg" alt="">
						</section>
						<section>							
							<img src="images/eventflow.png" alt="">
							<br>
							<a href="eventPropagation.html">Bubble demo</a>, 
							<a href="http://www.w3.org/TR/DOM-Level-3-Events/#event-flow">w3: event flow (image)</a>
						</section>
						<section>
							<h2>event delegate</h2>
							<pre><code>
&lt;ul id=&quot;listToDestroy&quot;&gt;<br/>    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;first item&lt;/a&gt;&lt;/li&gt;<br/>    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;second item&lt;/a&gt;&lt;/li&gt;<br/>    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;third item&lt;/a&gt;&lt;/li&gt;<br/>    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;forth item&lt;/a&gt;&lt;/li&gt;<br/>    &lt;li&gt;&lt;a href=&quot;#&quot;&gt;Fifth item&lt;/a&gt;&lt;/li&gt;<br/>&lt;/ul&gt;<br/><br/></code></pre>
							<pre class="fragment"><code>
&lt;script type=&quot;text/javascript&quot;&gt;  
var el = document.getElementById('listToDestroy');

el.addEventListener('click', function (e) { <br/>    var elm = e.target.parentNode; <br/>    elm.parentNode.removeChild(elm);<br/>    e.preventDefault();<br/> });<br/>&lt;/script&gt;
							</code></pre>
							<a href="http://jsperf.com/events-vanilla-and-jquery/17">js perf delegate</a>
						</section>
						<section>
							<h2>event delegate (demo)</h2>
							<ul id="listToDestroy">
				              <li><a href="#">first item</a></li>
				              <li><a href="#">second item</a></li>
				              <li><a href="#">third item</a></li>
				              <li><a href="#">forth item</a></li>
				              <li><a href="#">Fifth item</a></li>
				            </ul>
				            <button id="addItem">add item</button>
				            <script type="text/javascript"> 
							 document.getElementById('listToDestroy').addEventListener('click', function (e) { 
							    var elm = e.target.parentNode; 
							    elm.parentNode.removeChild(elm);
							    e.preventDefault();
							 });
							 document.getElementById('addItem').addEventListener('click', function (e) { 
							    var list = document.getElementById('listToDestroy'); 
							    var li = document.createElement('li');
							    var a = document.createElement('a');
							    a.setAttribute('href', '#');
							    a.classList.add('roll');

							    var span = document.createElement('span');
							    span.setAttribute('data-title', 'New Item');
							    var text = document.createTextNode('New Item');
							    span.appendChild(text);
							    a.appendChild(span);
							    li.appendChild(a);
							    list.appendChild(li);
							    
							    e.preventDefault();
							 });
							</script>
						</section>
						<!-- <section>
							<h2>event object</h2>
							<ul>
								<li>target</li>
								<li>preventDefault</li>
								<li>stropPropagation</li>
								<li>stopImmediatePropagation</li>
								<li>timestamp</li>
								<li>clientX, clientY</li>
							</ul>
							<br>
							<a href="http://coding.smashingmagazine.com/2013/11/12/an-introduction-to-dom-events/">intro to DOM event: The Event Object</a>
							<br>
							<a href="http://www.w3.org/TR/DOM-Level-3-Events/#event-types">list of dom events</a>
						</section> -->
						<section>
							<h2>events attached to a dom</h2>							
							<pre><code>
//log all the event listener attached to el
getEventListeners(el);

//monitor every single event
monitorEvents(el);

//monitor some events
monitorEvents(el, 'click');
monitorEvents(el, ['click', 'focus', 'keyup']);

//unmonitor
unmonitorEvents(el);
							</code></pre>	
							<a href="#">create demo</a>, <a href="http://youtu.be/2zmUSoVMyRU?t=3m9s">master dev tool console</a>
						</section>						
						<!-- <section>
							<h2>unbind eventhandler: memory leak</h2>
							<p>(may go to memory leak section)</p>
							<p>dont have time to explore, thats why hide it</p>
						</section>												 -->
					</section>
					<!-- <section>
						<section>
							<h1>Inheritance</h1>
						</section>
						<section>							
							<img src="images/inheritance.png" alt="">
							
							<br>
							<br>
							<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain">access property chain</a>							
						</section>
						<section>
							<h2>Implement Inheritance</h2>
							<ul>
								<li class="">Functional Pattern: <a href="http://javascript.crockford.com/inheritance.html">Crockford</a></li>
								<li class="fragment">Constructor: <a href="http://www.klauskomenda.com/code/javascript-inheritance-by-example/"> example</a></li>
								<li class="fragment">Prototype: <a href="http://javascriptweblog.wordpress.com/2010/06/07/understanding-javascript-prototypes/">Angus prototype</a></li>
								<li class="fragment">Object.create: <a href="http://css.dzone.com/articles/javascript-inheritance-example">example</a></li>
								<li class="fragment">es6: class <a href="http://wiki.ecmascript.org/doku.php?id=harmony:classes">harmony: classes</a></li>
								<li class="fragment">Libraries: prototype.js, base.js</li>
							</ul>							
						</section>
						<section>
							<h2>functional Pattern</h2>
							<pre><code>
function Parent(args){
   //create new object
   //set properties, method
   //retrn new object	
}
							</code></pre>
							<pre class="fragment"><code>
function Child(args){
   //call parent, pass parameters
   //set child properties, on the returned object from Parent
   //return the parent
}
							</code></pre>
							<li class="fragment">simple and allow encapsulation</li>	
							<li class="fragment">Each function call creates new object</li>
						</section>						
						<section>
							<h2>prototype chaining</h2>
							<img src="images/prototype.png" alt="">
							<br>
							<a href="http://yehudakatz.com/2011/08/12/understanding-prototypes-in-javascript/">image: prototype</a>, <a href="http://sporto.github.io/blog/2013/02/22/a-plain-english-guide-to-javascript-prototypes/">prototype</a>,
							<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Introduction_to_Object-Oriented_JavaScript">MDN: OOP in JS</a>
						</section>
						<section>
							<h2>Object.create</h2>
							<pre><code>
var a = {a: 1}; 
// a ---&gt; Object.prototype ---&gt; null

var b = Object.create(a);
// b ---&gt; a ---&gt; Object.prototype ---&gt; null


var c = Object.create(b);
// c ---&gt; b ---&gt; a ---&gt; Object.prototype ---&gt; null
							</code></pre>							
							<ol>
								<li class="fragment">object creation is faster than function</li>
								<li class="fragment">new method in prototype is available to all</li>
								<li class="fragment">iterate every properties in a level then go to next</li>
								<li class="fragment">Higher lookup time for higher level properties</li>								
								<li class="fragment">nonexistent properties traverse full chain</li>								
								<br>
								<li class="fragment">dont check undefined. use <code>hasOwnProperty</code></li>
							</ol>							
							<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Inheritance_and_the_prototype_chain">MDN: perf at bottom</a>
						</section>
						<section>
							<h2>best way to inheritance</h2>
							<ol>
								<li>It depends.</li>
								<li class="fragment">prototypal inheritance performs better</li>
								<li class="fragment">But dont make it crazy long</li>
							</ol>
							<br><br>
							<ul class="fragment">
								<li>Choice is yours</li>
								<li>depending on you project, team</li>
							</ul>
							<br>
							<br>
							<br>
							<a href="http://julien.richard-foy.fr/blog/2011/10/30/functional-inheritance-vs-prototypal-inheritance/">function vs prototypal </a>, <a href="http://jsperf.com/js-inheritance-performance/38">perf test</a>
							<br>
							<a href="http://erik.eae.net/archives/2009/11/09/21.12.16/">inheritance antipattern</a>
						</section>						
					</section> -->	
					</section>		
					<section>
						<section>
							<h1>Scroll</h1>
							<img src="images/scroll.jpg" alt="">
						</section>
						<section>
							<h2>scroll, scrollTO</h2>
							<pre><code>
//scroll down 100 pixels
scroll(0, 100);

scrollTo(x-coord,y-coord );

//repeated scroll
scrollBy(0, 100);
							</code></pre>
							<pre class="fragment"><code>
window.onscroll = function(e) {
   // do something on scroll 	 
}
							</code></pre>
						</section>											
						<section>
							<h1 class="noUppercase">Debounce & Throttle</h1>
							<h2>Defer</h2>
							<br/>
							<a href="http://jhankarmahbub.com/presentations/debounce.html">Debounce: Example</a>
						</section>											
						<section>
							<h2>External effect</h2>
							<h6>(Demo: <a href="http://jankfree.org/examples/hover.html">Something else make Scroll bad!</a>)</h6>
							<div class="fragment">
								<p style="text-align:left; text-decoration:underline;">Unnecessary repaint:</p>
								<ol>
									<li>position:fixed</li>
									<li>overflow:scroll</li>
									<div class="fragment">
										<li>:hover effect</li>
										<li>touch listeners</li>
									</div>								
								</ol>
							</div>
							<div class="fragment">
								<p style="text-align:left; text-decoration:underline;">long paint:</p>
								<li>visually complex css</li>
								<li>Image resize</li>
							</div>
							<br>							
							<a href="http://jankfree.org/jank-busters-cssconf/template.html#15">painful repaint</a>
						</section>
<!-- 						<section>
							<h1 class="upholdHeader">abc</h1>
							<br/>
							<a href="http://jankfree.org/examples/hover.html">jankFree hover</a>
							<br/>
							<a href="http://updates.html5rocks.com/2013/02/Profiling-Long-Paint-Times-with-DevTools-Continuous-Painting-Mode">Continuous Painting</a>
						</section> -->
					</section>																			
					<section>
							<h1>Need more !!!</h1>
							<a href="http://www.youtube.com/watch?v=Lsg84NtJbmI">So, You Want to be a Front-End Engineer</a>
							<a href="https://www.youtube.com/watch?v=480JL_WuMt0">Performance Tuning Secret</a>
							<br>
							<a href="http://www.amazon.com/Secrets-JavaScript-Ninja-John-Resig/dp/193398869X">JavaScipt Ninja</a>
							<br/>
							<a href="http://underscorejs.org/underscore.js">UnderScore or Angular source code </a>
							
							<br/>
							<a href="http://lodash.com/">Lo-dash</a>
							<br>
							<a href="http://html5index.org/">JS API index</a>
							<br>
							<a href="https://github.com/getify/You-Dont-Know-JS">You Don't Know JS</a>
						</section>
					<section>
						<h1>Thank You</h1>
						<br/>
						<h2><a href="http://goo.gl/0JIpFe">goo.gl/0JIpFe</a> </h2>
						<br/>
						<br/>
						<a href="http://jhankarmahbub.com">MD Khan</a> / <a href="http://twitter.com/mdkhan005">@mdkhan005</a>
						<br>
						<h6>www.thatjsdude.com</h6>
					</section>
					<section>
						<h1>Question?</h1>							
						<img src="images/question11.jpg" alt="">
						<br>
						<a href="http://goo.gl/0JIpFe">goo.gl/0JIpFe</a>
						<br>
						<br>
						<a href="http://jhankarmahbub.com">MD Khan</a> / <a href="http://twitter.com/mdkhan005">@mdkhan005</a>
						<h5>www.thatjsdude.com</h5>
					</section>
				</div>
			</div>

			<script src="lib/js/head.min.js"></script>
			<script src="js/reveal.min.js"></script>

			<script>

				// Full list of configuration options available here:
				// https://github.com/hakimel/reveal.js#configuration
				Reveal.initialize({
					controls: true,
					progress: true,
					history: true,

					theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
					transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none

					// Optional libraries used to extend on reveal.js
					dependencies: [
						{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
						{ src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
						{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
						{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
						{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
						{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					]
				});

			</script>
		</body>
	</html>
